(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1170],{1843:function(e,a,s){Promise.resolve().then(s.bind(s,3502))},3575:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return d}});var l=s(7437),t=s(5206),r=s(4870),i=s(7907),c=s(2265);function d(){let[e,a]=(0,c.useState)("fixed"),s=(0,i.useRouter)(),d=!1;return(0,r.getCookie)("userData")&&(d=JSON.parse((0,r.getCookie)("userData"))),(0,c.useEffect)(()=>{d||(localStorage.setItem("prevUrl","/dashboard"),s.replace("/ar/user/login")),d&&(0===d.isAdmin&&s.replace("/"),1===d.isAdmin&&a("hidden"))},[d]),(0,l.jsx)("div",{className:"w-full h-full bg-gray-900 ".concat(e," top-0 right-0 z-50"),children:(0,l.jsx)(t.Z,{})})}},3502:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return m}});var l=s(7437),t=s(648),r=s(5206),i=s(8205),c=s(7908),d=s(4870);s(703);var n=s(8792),o=s(7907),h=s(2265),u=s(6123),x=s(3575);function m(e){let{params:a}=e,[s,m]=(0,h.useState)(!1),[p,g]=(0,h.useState)(!1),f=(0,o.useRouter)(),[j,v]=(0,h.useState)(!1),[b,N]=(0,h.useState)(!1),[w,y]=(0,h.useState)([]),[_,k]=(0,h.useState)(""),[C,z]=(0,h.useState)(""),A=!1;function S(e){e.preventDefault(),g(!0);let s=w.split(","),l=null==s?void 0:s.map(Number);(0,c.Z)({method:"post",url:"".concat(t.E,"/api/admin/addTeams/to/project"),data:{project_id:a.id,team_ids:l},headers:{Authorization:"Bearer ".concat(A.token)}}).then(()=>(g(!1),f.replace("/dashboard/projects"),u.toast.success("تم اضافه الفريق بنجاح"))).catch(e=>(console.log(e),g(!1),u.toast.error("حدث خطا ما ! حاول مجددا")))}function E(e){e.preventDefault(),g(!0),(0,c.Z)({method:"post",url:"".concat(t.E,"/api/admin/addUsers/to/project/").concat(a.id),data:{user_id:C,price:_,numberOfSales:1},headers:{Authorization:"Bearer ".concat(A.token)}}).then(()=>(g(!1),f.replace("/dashboard/projects"),u.toast.success("تم اضافه المستخدم بنجاح بنجاح"))).catch(e=>(console.log(e),g(!1),u.toast.error("حدث خطا ما ! حاول مجددا")))}return(0,d.getCookie)("userData")&&(A=JSON.parse((0,d.getCookie)("userData"))),(0,h.useEffect)(()=>{(0,c.Z)({method:"get",url:"".concat(t.E,"/api/admin/show/project/").concat(a.id),headers:{Authorization:"Bearer ".concat(A.token)}}).then(e=>{m(e.data.data)})},[]),(0,l.jsxs)("div",{children:[(0,l.jsx)(x.default,{}),function(){if(p)return(0,l.jsx)(r.Z,{})}(),function(){if(!s)return(0,l.jsx)("div",{className:"h-[500px] rounded-md bg-gray-700 flex items-center justify-center",children:(0,l.jsx)(i.Z,{})});if(0===s.length)return(0,l.jsxs)("div",{className:"h-[500px] gap-4 rounded-md bg-gray-700 flex items-center justify-center",children:[(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"60",height:"60",fill:"currentColor",className:"bi bi-file-earmark-excel",viewBox:"0 0 16 16",children:[(0,l.jsx)("path",{d:"M5.884 6.68a.5.5 0 1 0-.768.64L7.349 10l-2.233 2.68a.5.5 0 0 0 .768.64L8 10.781l2.116 2.54a.5.5 0 0 0 .768-.641L8.651 10l2.233-2.68a.5.5 0 0 0-.768-.64L8 9.219l-2.116-2.54z"}),(0,l.jsx)("path",{d:"M14 14V4.5L9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2M9.5 3A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5z"})]}),(0,l.jsx)("p",{children:"لا يوجد طلبات حتى الان"})]});if(s){var e,r,d,o;return(0,l.jsxs)("div",{className:"w-full p-6 bg-gray-700 rounded-md flex flex-col gap-3 relative",children:[(0,l.jsx)("p",{className:"font-bold text-2xl",children:s.nameProject}),(0,l.jsx)("p",{className:"text-lg overflow-auto h-[150px] ",children:s.description}),(0,l.jsxs)("div",{className:"absolute top-3 left-0 w-[200px] h-[50px] flex justify-center items-center gap-4",children:[(0,l.jsxs)("div",{className:"flex gap-0 bg-gray-600 rounded-md p-2 cursor-pointer",onClick:()=>{v(!0)},children:[(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",className:"bi bi-plus",viewBox:"0 0 16 16",children:(0,l.jsx)("path",{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4"})}),(0,l.jsx)("p",{children:"الفريق"})]}),(0,l.jsxs)("div",{className:"flex gap-2 bg-gray-600 rounded-md p-2 cursor-pointer",onClick:()=>{N(!0)},children:[(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",className:"bi bi-currency-exchange",viewBox:"0 0 16 16",children:(0,l.jsx)("path",{d:"M0 5a5 5 0 0 0 4.027 4.905 6.5 6.5 0 0 1 .544-2.073C3.695 7.536 3.132 6.864 3 5.91h-.5v-.426h.466V5.05q-.001-.07.004-.135H2.5v-.427h.511C3.236 3.24 4.213 2.5 5.681 2.5c.316 0 .59.031.819.085v.733a3.5 3.5 0 0 0-.815-.082c-.919 0-1.538.466-1.734 1.252h1.917v.427h-1.98q-.004.07-.003.147v.422h1.983v.427H3.93c.118.602.468 1.03 1.005 1.229a6.5 6.5 0 0 1 4.97-3.113A5.002 5.002 0 0 0 0 5m16 5.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0m-7.75 1.322c.069.835.746 1.485 1.964 1.562V14h.54v-.62c1.259-.086 1.996-.74 1.996-1.69 0-.865-.563-1.31-1.57-1.54l-.426-.1V8.374c.54.06.884.347.966.745h.948c-.07-.804-.779-1.433-1.914-1.502V7h-.54v.629c-1.076.103-1.808.732-1.808 1.622 0 .787.544 1.288 1.45 1.493l.358.085v1.78c-.554-.08-.92-.376-1.003-.787zm1.96-1.895c-.532-.12-.82-.364-.82-.732 0-.41.311-.719.824-.809v1.54h-.005zm.622 1.044c.645.145.943.38.943.796 0 .474-.37.8-1.02.86v-1.674z"})}),(0,l.jsx)("p",{children:"بيع"})]})]}),(0,l.jsx)("div",{className:"w-full h-[2px] bg-gray-600"}),(0,l.jsx)("div",{className:"flex gap-1",children:null===(e=s.teams)||void 0===e?void 0:e.map(e=>(0,l.jsx)(n.default,{href:"/dashboard/team/".concat(e.id),children:(0,l.jsx)("img",{alt:e.name,title:e.name,src:"".concat(t.E,"/public/").concat(e.photo),className:"w-10 h-10 rounded-full"})},e.id))}),(0,l.jsx)("div",{className:"w-full h-[2px] bg-gray-600"}),(0,l.jsx)("div",{className:"flex gap-2 flex-wrap",children:null===(r=s.skills)||void 0===r?void 0:r.map(e=>(0,l.jsx)("p",{className:"p-2 rounded-sm bg-gray-600",children:e},e))}),(0,l.jsx)("div",{className:"w-full h-[2px] bg-gray-600"}),(0,l.jsxs)("div",{className:"flex justify-between px-2",children:[(0,l.jsxs)("p",{children:["تاريخ البدايه : ",s.startingDate]}),(0,l.jsxs)("p",{children:["تاريخ النهايه : ",s.endingDate]})]}),(0,l.jsxs)("div",{className:"flex justify-between px-2",children:[(0,l.jsxs)("p",{children:["نوع البيع : ",s.saleType]}),(0,l.jsxs)("p",{children:["السعر : ",s.price]})]}),(0,l.jsx)("div",{className:"w-full h-[2px] bg-gray-600"}),(0,l.jsxs)("a",{href:s.urlProject,target:"_blank",className:"text-lg text-blue-400 bg-gray-600 p-2 rounded-sm",children:["رابط المشروع : ",s.urlProject]}),(0,l.jsx)("div",{className:"w-full h-[2px] bg-gray-600"}),(0,l.jsx)("div",{className:"flex flex-col gap-2",children:null===(d=s.users)||void 0===d?void 0:d.map((e,a)=>(0,l.jsx)(n.default,{href:"/dashboard/orders/",children:(0,l.jsxs)("div",{className:"flex gap-2 bg-gray-600 rounded-md p-2",title:e.email,children:[(0,l.jsx)("div",{className:"w-10 h-10 rounded-full bg-orange-500 flex justify-center items-center font-bold text-xl text-gray-50",children:e.name[0]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"font-bold",children:e.name}),(0,l.jsxs)("p",{children:[e.price,"$"]})]})]})},a))}),(0,l.jsx)("div",{className:"w-full h-[2px] bg-gray-600"}),(0,l.jsx)("div",{className:"flex flex-wrap gap-3",children:null===(o=s.imgProject)||void 0===o?void 0:o.map(e=>(0,l.jsx)("img",{alt:"...",src:"".concat(t.E,"/public/").concat(e),className:"w-[100px] h-[100px] border"},e))}),(0,l.jsx)("div",{className:"w-full h-[2px] bg-gray-600"}),(0,l.jsxs)("div",{className:"flex gap-6 flex-wrap justify-center",children:[(0,l.jsx)(n.default,{href:"/dashboard/projects/".concat(a.id,"/edit"),children:(0,l.jsxs)("button",{className:"flex gap-2 py-2 px-6 items-center bg-gray-600 hover:bg-blue-500 rounded-sm",children:[(0,l.jsx)("p",{children:"تعديل"}),(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"currentColor",className:"bi bi-pencil-square",viewBox:"0 0 16 16",children:[(0,l.jsx)("path",{d:"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"}),(0,l.jsx)("path",{fillRule:"evenodd",d:"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5z"})]})]})}),(0,l.jsxs)("button",{onClick:()=>{g(!0),(0,c.Z)({method:"delete",url:"".concat(t.E,"/api/admin/softDelete/project/").concat(a.id),headers:{Authorization:"Bearer ".concat(A.token)}}).then(()=>(g(!1),f.replace("/dashboard/projects"),u.toast.success("تم حذف المشروع"))).catch(()=>(g(!1),u.toast.error("حدث خطا ما حاول مجددا")))},className:"flex gap-2 py-2 px-6 items-center bg-gray-600 hover:bg-red-500 rounded-sm",children:[(0,l.jsx)("p",{children:"حذف"}),(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"currentColor",className:"bi bi-trash3-fill",viewBox:"0 0 16 16",children:(0,l.jsx)("path",{d:"M11 1.5v1h3.5a.5.5 0 0 1 0 1h-.538l-.853 10.66A2 2 0 0 1 11.115 16h-6.23a2 2 0 0 1-1.994-1.84L2.038 3.5H1.5a.5.5 0 0 1 0-1H5v-1A1.5 1.5 0 0 1 6.5 0h3A1.5 1.5 0 0 1 11 1.5m-5 0v1h4v-1a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5M4.5 5.029l.5 8.5a.5.5 0 1 0 .998-.06l-.5-8.5a.5.5 0 1 0-.998.06m6.53-.528a.5.5 0 0 0-.528.47l-.5 8.5a.5.5 0 0 0 .998.058l.5-8.5a.5.5 0 0 0-.47-.528M8 4.5a.5.5 0 0 0-.5.5v8.5a.5.5 0 0 0 1 0V5a.5.5 0 0 0-.5-.5"})})]})]})]})}}(),function(){if(j)return(0,l.jsxs)("div",{children:[(0,l.jsxs)("form",{onSubmit:S,className:"p-6 bg-gray-600 rounded-md absolute flex flex-col gap-3 top-[50%] right-[50%] translate-x-[50%] -translate-y-[50%] z-10",children:[(0,l.jsx)("label",{children:"id فريق العمل"}),(0,l.jsx)("input",{required:!0,onChange:e=>{y(e.target.value)},placeholder:"team_id : 1,2,3",type:"text",className:"p-2 rounded-md"}),(0,l.jsx)("input",{type:"submit",value:"ارسال",className:"bg-blue-500 py-2 rounded-md text-gray-50 font-bold"})]}),(0,l.jsx)("div",{className:"fixed w-full h-full bg-gray-700/40 top-0 right-0",onClick:()=>{v(!1)}})]})}(),function(){if(b)return(0,l.jsxs)("div",{children:[(0,l.jsxs)("form",{onSubmit:E,className:"p-6 bg-gray-600 rounded-md absolute flex flex-col gap-3 top-[50%] right-[50%] translate-x-[50%] -translate-y-[50%] z-10",children:[(0,l.jsx)("label",{children:"id المستخدم"}),(0,l.jsx)("input",{onChange:e=>{z(e.target.value)},required:!0,placeholder:"user_id : 1",type:"text",className:"p-2 rounded-md"}),(0,l.jsx)("label",{children:"السعر"}),(0,l.jsx)("input",{onChange:e=>{k(e.target.value)},required:!0,type:"number",className:"p-2 rounded-md"}),(0,l.jsx)("input",{type:"submit",value:"ارسال",className:"bg-blue-500 py-2 rounded-md text-gray-50 font-bold"})]}),(0,l.jsx)("div",{className:"fixed w-full h-full bg-gray-700/40 top-0 right-0",onClick:()=>{N(!1)}})]})}()]})}s(9724)},5206:function(e,a,s){"use strict";s.d(a,{Z:function(){return t}});var l=s(7437);function t(){return(0,l.jsxs)("div",{className:" w-full h-screen fixed flex items-center justify-center flex-col top-0 right-0 z-[1000] bg-gray-900/80 gap-6",children:[(0,l.jsxs)("div",{"aria-label":"Orange and tan hamster running in a metal wheel",role:"img",className:"wheel-and-hamster",children:[(0,l.jsx)("div",{className:"wheel"}),(0,l.jsx)("div",{className:"hamster",children:(0,l.jsxs)("div",{className:"hamster__body",children:[(0,l.jsxs)("div",{className:"hamster__head",children:[(0,l.jsx)("div",{className:"hamster__ear"}),(0,l.jsx)("div",{className:"hamster__eye"}),(0,l.jsx)("div",{className:"hamster__nose"})]}),(0,l.jsx)("div",{className:"hamster__limb hamster__limb--fr"}),(0,l.jsx)("div",{className:"hamster__limb hamster__limb--fl"}),(0,l.jsx)("div",{className:"hamster__limb hamster__limb--br"}),(0,l.jsx)("div",{className:"hamster__limb hamster__limb--bl"}),(0,l.jsx)("div",{className:"hamster__tail"})]})}),(0,l.jsx)("div",{className:"spoke"})]}),(0,l.jsx)("h3",{className:"text-lg text-gray-200",children:"Loading..."})]})}s(3112)},3112:function(){}},function(e){e.O(0,[7908,6123,5250,1749,2689,2971,8069,1744],function(){return e(e.s=1843)}),_N_E=e.O()}]);